@model IEnumerable<ProyectoFinalSalones.Salone>

@{
    ViewBag.Title = "Lista";
}

<h2>Renta de salones</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Imagen)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Nombre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Disponibilidad)
        </th>

        <th>
            Inicio de renta actual
        </th>
        <th>
            Fin de renta actual
        </th>
        <th>
            Cliente
        </th>
        <th>
           Propietario
        </th>
    </tr>

@foreach (var item in Model) {
  
    <tr>
        @if (DateTime.Now >= item.InicioAlquilerActual && DateTime.Now <= item.FinAlquilerActual)
        {
        item.Disponibilidad = false;
        }
        else
        {
        item.Disponibilidad = true;
        }
        <td>
            <img src="~/Public/Icons/@(String.IsNullOrEmpty(item.Imagen) ? "Salon.png" : item.Imagen)" style="height:75px; width:75px" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Nombre)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.Disponibilidad)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.InicioAlquilerActual)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FinAlquilerActual)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cliente.Nombre)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Propietario.Nombre)
        </td>
        @if (item.Disponibilidad == true)
        {
            <td>
                @Html.ActionLink("Rentar", "Rentar", new { id = item.Id })
            </td>
        }
        else
        {
            <td>
                No disponible para renta
            </td>
        }

        <td>
<<<<<<< HEAD
            
=======

            @Html.ActionLink("Details", "Details", new { id = item.Id })

>>>>>>> 48a9fc5e576a0039eeb2bfe4a520706cafb5bc4d
        </td>
    </tr>
}

</table>
